version: '3'

env:
  GOBIN: "{{.HOME}}/.local/bin"

tasks:
  default:
    deps:
      - lazysql
      - nap
      - viddy

  lazysql:
    desc: >
      [lazysql - GitHub](https://github.com/jorgerojas26/lazysql):
      A cross-platform TUI database management tool written in Go.
    cmd: go install github.com/jorgerojas26/lazysql@latest
    generates:
      - "{{.GOBIN}}/lazysql"
    status:
      - which lazysql
    preconditions:
      - msg: "Go must be in your $PATH"
        sh: which go

  nap:
    desc: >
      [nap - GitHub](https://github.com/maaslalani/nap):
      Code snippets in your terminal.
    cmd: go install github.com/maaslalani/nap@main
    generates:
      - "{{.GOBIN}}/nap"
    status:
      - which nap
    preconditions:
      - msg: "Go must be in your $PATH"
        sh: which go

  viddy:
    desc: >
      [viddy - GitHub](https://github.com/sachaos/viddy):
      ðŸ‘€ A modern watch command. Time machine and pager etc.
    cmd: go install github.com/sachaos/viddy@latest
    generates:
      - "{{.GOBIN}}/viddy"
    status:
      - which viddy
    preconditions:
      - msg: "Go must be in your $PATH"
        sh: which go
